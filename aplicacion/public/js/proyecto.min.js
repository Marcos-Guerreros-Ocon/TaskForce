const _0x70d4c = _0x4947; (function (_0x258c81, _0x4ced56) { const _0x431c30 = _0x4947, _0x28b2da = _0x258c81(); while (!![]) { try { const _0x3deaa2 = -parseInt(_0x431c30(0x105)) / 0x1 + -parseInt(_0x431c30(0x119)) / 0x2 * (parseInt(_0x431c30(0x116)) / 0x3) + -parseInt(_0x431c30(0x14d)) / 0x4 + parseInt(_0x431c30(0x100)) / 0x5 * (parseInt(_0x431c30(0x13c)) / 0x6) + parseInt(_0x431c30(0x110)) / 0x7 * (parseInt(_0x431c30(0x10b)) / 0x8) + parseInt(_0x431c30(0x10d)) / 0x9 + parseInt(_0x431c30(0x15d)) / 0xa * (-parseInt(_0x431c30(0x108)) / 0xb); if (_0x3deaa2 === _0x4ced56) break; else _0x28b2da['push'](_0x28b2da['shift']()); } catch (_0x498806) { _0x28b2da['push'](_0x28b2da['shift']()); } } }(_0x14a8, 0xcb351)); function _0x14a8() { const _0x5e838c = ['tarea?id=', 'forEach', 'json', '1508740VmxRXS', 'querySelectorAll', '55quSOBs', 'createElement', 'onclick', 'value', 'El\x20campo\x20trabajador\x20es\x20obligatorio.', '146515CHjyRw', 'classList', 'Trajador\x20no\x20encontrado.', '22EsoWcM', 'El\x20campo\x20trabajador\x20excede\x20los\x2025\x20caracteres.', 'msg-error', '15592fmCysC', 'application/json', '11511198LmWoba', 'mt-2', 'descripcion_tarea', '3073iiBiXl', 'nombre_tarea', 'El\x20campo\x20descripción\x20es\x20obligatorio.', 'id_proyecto', 'actualizarTarea', 'Error', '75IXePVP', 'Error:', 'PUT', '77978YpFBrd', '.btn-edit', 'Bearer\x20', 'Tarea\x20borrada', 'La\x20tarea\x20ha\x20sido\x20borrado\x20correctamente', 'catch', 'getElementById', 'Tarea\x20actualizada\x20con\x20éxito', 'add', 'No,\x20volver\x20atras', 'Si,\x20borrar', 'id_tarea', 'appendChild', 'nombreTareaExistente', 'Aceptar', 'DELETE', 'target', 'nombreTarea', 'nombreTrabajador', 'El\x20campo\x20descripción\x20excede\x20los\x20250\x20caracteres.', 'GET', 'correo', 'reload', 'preventDefault', '¿Estas\x20seguro\x20de\x20borrar\x20este\x20proyecto?', 'from', '<?=\x20RUTA_URL\x20?>/proyectos', 'querySelector', 'Ha\x20ocurrido\x20un\x20error\x20al\x20borrar\x20el\x20proyecto', 'Proyecto\x20borrado', 'El\x20proyecto\x20ha\x20sido\x20borrado\x20correctamente', 'innerText', 'fire', 'descripcionTareaExistente', 'removeChild', '230322ZQraIM', 'trim', 'proyecto?id=', 'isConfirmed', 'agregarTarea', 'then', 'error', 'stringify', 'Éxito', '/tarea/', 'Tarea\x20agregada\x20con\x20éxito', 'El\x20campo\x20tarea\x20es\x20obligatorio.', 'warning', 'status', 'onload', 'success', 'Una\x20vez\x20borrada\x20no\x20se\x20podrá\x20recuperar', '1206260gypUTr', 'El\x20campo\x20tarea\x20excede\x20los\x2025\x20caracteres.', '#858796', 'descripcionTarea', 'length', '.borrar', 'parentElement', 'id_usuario', 'search-navbar', '#d33', '/proyecto/', '.msg-error', 'token']; _0x14a8 = function () { return _0x5e838c; }; return _0x14a8(); } const addTarea = document['getElementById'](_0x70d4c(0x140)); addTarea[_0x70d4c(0x102)] = () => { const _0x2d545c = _0x70d4c; if (!isValidTarea()) return event[_0x2d545c(0x130)](), ![]; agregarTarea(); }; function _0x4947(_0x2c2614, _0x219cb9) { const _0x14a8ca = _0x14a8(); return _0x4947 = function (_0x49477a, _0x48284d) { _0x49477a = _0x49477a - 0x100; let _0x30f9eb = _0x14a8ca[_0x49477a]; return _0x30f9eb; }, _0x4947(_0x2c2614, _0x219cb9); } const isValidTarea = () => { const _0x1acf67 = _0x70d4c, _0x325c44 = document[_0x1acf67(0x11f)]('nombreTarea'), _0xcf8f1d = document[_0x1acf67(0x11f)]('descripcionTarea'), _0x3211cd = document[_0x1acf67(0x11f)](_0x1acf67(0x155)), _0x13542b = _0x325c44[_0x1acf67(0x103)][_0x1acf67(0x13d)](), _0x519207 = _0xcf8f1d[_0x1acf67(0x103)][_0x1acf67(0x13d)](), _0x1eed00 = _0x3211cd[_0x1acf67(0x103)]['trim'](); let _0x8eecd0 = !![]; Array['from'](document[_0x1acf67(0x15e)](_0x1acf67(0x158)))[_0x1acf67(0x15b)](_0x1f1b81 => _0x1f1b81[_0x1acf67(0x153)][_0x1acf67(0x13b)](_0x1f1b81)); if (_0x13542b['length'] === 0x0) { const _0xfb47ec = document[_0x1acf67(0x101)]('p'); _0xfb47ec[_0x1acf67(0x106)][_0x1acf67(0x121)](_0x1acf67(0x10a), _0x1acf67(0x10e)), _0xfb47ec[_0x1acf67(0x138)] = _0x1acf67(0x147), _0x325c44[_0x1acf67(0x153)][_0x1acf67(0x125)](_0xfb47ec), _0x8eecd0 = ![]; } if (_0x13542b[_0x1acf67(0x151)] > 0x19) { const _0x4a2247 = document[_0x1acf67(0x101)]('p'); _0x4a2247['classList'][_0x1acf67(0x121)]('msg-error', 'mt-2'), _0x4a2247[_0x1acf67(0x138)] = _0x1acf67(0x14e), _0x325c44[_0x1acf67(0x153)]['appendChild'](_0x4a2247), _0x8eecd0 = ![]; } if (_0x519207[_0x1acf67(0x151)] === 0x0) { const _0x2d2df6 = document[_0x1acf67(0x101)]('p'); _0x2d2df6[_0x1acf67(0x106)][_0x1acf67(0x121)]('msg-error', _0x1acf67(0x10e)), _0x2d2df6['innerText'] = _0x1acf67(0x112), _0xcf8f1d[_0x1acf67(0x153)][_0x1acf67(0x125)](_0x2d2df6), _0x8eecd0 = ![]; } if (_0x519207['length'] > 0xfa) { const _0x244366 = document[_0x1acf67(0x101)]('p'); _0x244366[_0x1acf67(0x106)]['add']('msg-error', _0x1acf67(0x10e)), _0x244366[_0x1acf67(0x138)] = _0x1acf67(0x12c), _0xcf8f1d[_0x1acf67(0x153)][_0x1acf67(0x125)](_0x244366), _0x8eecd0 = ![]; } if (_0x1eed00[_0x1acf67(0x151)] === 0x0) { const _0x1d2558 = document[_0x1acf67(0x101)]('p'); _0x1d2558[_0x1acf67(0x106)][_0x1acf67(0x121)](_0x1acf67(0x10a), _0x1acf67(0x10e)), _0x1d2558[_0x1acf67(0x138)] = _0x1acf67(0x104), _0x3211cd[_0x1acf67(0x153)]['appendChild'](_0x1d2558), _0x8eecd0 = ![]; } if (_0x1eed00[_0x1acf67(0x151)] > 0x19) { const _0x461c17 = document[_0x1acf67(0x101)]('p'); _0x461c17['classList'][_0x1acf67(0x121)](_0x1acf67(0x10a), 'mt-2'), _0x461c17['innerText'] = _0x1acf67(0x109), _0x3211cd[_0x1acf67(0x153)][_0x1acf67(0x125)](_0x461c17), _0x8eecd0 = ![]; } return _0x8eecd0; }, agregarTarea = async () => { const _0x15a574 = _0x70d4c, _0x2497ea = RUTA_API + '/tarea', _0x5a0b38 = document[_0x15a574(0x11f)](_0x15a574(0x12a))[_0x15a574(0x103)], _0x1e264a = document[_0x15a574(0x11f)](_0x15a574(0x150))[_0x15a574(0x103)], _0x50cfa8 = document[_0x15a574(0x11f)]('search-navbar')[_0x15a574(0x103)], _0x34edf7 = document[_0x15a574(0x11f)](_0x15a574(0x113))[_0x15a574(0x103)], _0x235b5f = await getUsuario(_0x50cfa8); if (!_0x235b5f) { const _0x32d817 = document[_0x15a574(0x101)]('p'); _0x32d817[_0x15a574(0x106)][_0x15a574(0x121)](_0x15a574(0x10a), _0x15a574(0x10e)), _0x32d817[_0x15a574(0x138)] = _0x15a574(0x107), document['getElementById']('search-navbar')[_0x15a574(0x153)][_0x15a574(0x125)](_0x32d817); return; } const _0x17fd9a = { 'id_proyecto': _0x34edf7, 'id_usuario': _0x235b5f[_0x15a574(0x154)], 'nombre_tarea': _0x5a0b38, 'descripcion_tarea': _0x1e264a }, _0x11dc3c = getCookie(_0x15a574(0x159)); await fetch(_0x2497ea, { 'method': 'POST', 'headers': { 'Content-Type': _0x15a574(0x10c), 'Authorization': _0x15a574(0x11b) + _0x11dc3c }, 'body': JSON[_0x15a574(0x143)](_0x17fd9a) })[_0x15a574(0x141)](_0x30f337 => _0x30f337[_0x15a574(0x15c)]())[_0x15a574(0x141)](_0x36a9a1 => { const _0x3db352 = _0x15a574; if (_0x36a9a1[_0x3db352(0x142)]) { toastr[_0x3db352(0x142)](_0x36a9a1[_0x3db352(0x142)], _0x3db352(0x115)); return; } toastr[_0x3db352(0x14b)](_0x3db352(0x146), _0x3db352(0x144)), setTimeout(() => { location['reload'](); }, 0x3e8); })['catch'](_0x11127f => console[_0x15a574(0x142)](_0x15a574(0x117), _0x11127f)); }, getUsuario = async _0x3ad3c8 => { const _0x2d62e2 = _0x70d4c, _0x38ff76 = RUTA_API + 'usuario/correo/' + _0x3ad3c8, _0x528aa5 = getCookie(_0x2d62e2(0x159)); let _0x131aea = null; return await fetch(_0x38ff76, { 'method': _0x2d62e2(0x12d), 'headers': { 'Content-Type': _0x2d62e2(0x10c), 'Authorization': _0x2d62e2(0x11b) + _0x528aa5 } })[_0x2d62e2(0x141)](_0x23f064 => _0x23f064[_0x2d62e2(0x15c)]())['then'](_0x416647 => { _0x131aea = _0x416647; })[_0x2d62e2(0x11e)](_0x3aad95 => console[_0x2d62e2(0x142)]('Error:', _0x3aad95)), _0x131aea; }, borrar = document[_0x70d4c(0x15e)](_0x70d4c(0x152)); borrar[_0x70d4c(0x15b)](_0x1c66bb => { const _0x62cc68 = _0x70d4c; _0x1c66bb[_0x62cc68(0x102)] = async _0x501deb => { const _0x22c9f5 = _0x62cc68, _0x24d1f2 = _0x501deb[_0x22c9f5(0x129)]['id'], _0xe726fe = RUTA_API + _0x22c9f5(0x145) + _0x24d1f2, _0xcd2aad = getCookie(_0x22c9f5(0x159)); Swal['fire']({ 'title': '¿Estas\x20seguro\x20de\x20borrar\x20esta\x20tarea?', 'text': _0x22c9f5(0x14c), 'icon': _0x22c9f5(0x148), 'showCancelButton': !![], 'confirmButtonColor': _0x22c9f5(0x156), 'cancelButtonColor': _0x22c9f5(0x14f), 'confirmButtonText': _0x22c9f5(0x123), 'cancelButtonText': _0x22c9f5(0x122) })[_0x22c9f5(0x141)](_0x7cb25b => { const _0x572a8a = _0x22c9f5; _0x7cb25b[_0x572a8a(0x13f)] && accionBorrarTarea(_0x24d1f2); }); }; }); const accionBorrarTarea = async _0x397ad8 => { const _0x424100 = _0x70d4c, _0x38c8d2 = getCookie(_0x424100(0x159)), _0x3c171b = await fetch(RUTA_API + 'tarea?id=' + _0x397ad8, { 'method': _0x424100(0x128), 'headers': { 'Content-Type': 'application/json', 'Authorization': _0x424100(0x11b) + _0x38c8d2 } }); _0x3c171b[_0x424100(0x149)] === 0xc8 ? swal[_0x424100(0x139)]({ 'title': _0x424100(0x11c), 'text': _0x424100(0x11d), 'icon': _0x424100(0x14b), 'confirmButtonText': _0x424100(0x127) })[_0x424100(0x141)](_0x4d2bd3 => { location['reload'](); }) : swal[_0x424100(0x139)]({ 'title': _0x424100(0x115), 'text': 'Ha\x20ocurrido\x20un\x20error\x20al\x20borrar\x20la\x20tarea', 'icon': 'error', 'confirmButtonText': _0x424100(0x127) }); }, borrarProyecto = document[_0x70d4c(0x134)]('#btnBorrarProyecto'); borrarProyecto[_0x70d4c(0x102)] = async () => { const _0x2ccf82 = _0x70d4c, _0x3d85d = document[_0x2ccf82(0x11f)]('id_proyecto')[_0x2ccf82(0x103)], _0x16687a = RUTA_API + _0x2ccf82(0x157) + _0x3d85d, _0x2876e4 = getCookie(_0x2ccf82(0x159)); Swal[_0x2ccf82(0x139)]({ 'title': _0x2ccf82(0x131), 'text': 'Una\x20vez\x20borrado\x20no\x20se\x20podrá\x20recuperar', 'icon': _0x2ccf82(0x148), 'showCancelButton': !![], 'confirmButtonColor': '#d33', 'cancelButtonColor': _0x2ccf82(0x14f), 'confirmButtonText': _0x2ccf82(0x123), 'cancelButtonText': _0x2ccf82(0x122) })[_0x2ccf82(0x141)](_0x1026ab => { _0x1026ab['isConfirmed'] && accionBorrarProyecto(_0x3d85d); }); }; const accionBorrarProyecto = async _0x4e58ae => { const _0xf24a70 = _0x70d4c, _0x51a27a = getCookie(_0xf24a70(0x159)), _0x5c3ed3 = await fetch(RUTA_API + _0xf24a70(0x13e) + _0x4e58ae, { 'method': _0xf24a70(0x128), 'headers': { 'Content-Type': _0xf24a70(0x10c), 'Authorization': _0xf24a70(0x11b) + _0x51a27a } }); _0x5c3ed3[_0xf24a70(0x149)] === 0xc8 ? swal[_0xf24a70(0x139)]({ 'title': _0xf24a70(0x136), 'text': _0xf24a70(0x137), 'icon': _0xf24a70(0x14b), 'confirmButtonText': _0xf24a70(0x127) })[_0xf24a70(0x141)](_0xfc342 => { const _0x5c7629 = _0xf24a70; location['href'] = _0x5c7629(0x133); }) : swal[_0xf24a70(0x139)]({ 'title': _0xf24a70(0x115), 'text': _0xf24a70(0x135), 'icon': _0xf24a70(0x142), 'confirmButtonText': _0xf24a70(0x127) }); }; window[_0x70d4c(0x14a)] = () => { const _0x47e972 = _0x70d4c, _0x558862 = Array[_0x47e972(0x132)](document[_0x47e972(0x15e)](_0x47e972(0x11a))); _0x558862[_0x47e972(0x15b)](_0x2bb5a3 => { _0x2bb5a3['onclick'] = _0x13976a => { const _0x3005fc = _0x4947, _0x4f8d8c = _0x13976a[_0x3005fc(0x129)]['id'], _0x340484 = RUTA_API + _0x3005fc(0x15a) + _0x4f8d8c, _0x4c2f84 = getCookie('token'); fetch(_0x340484, { 'method': _0x3005fc(0x12d), 'headers': { 'Content-Type': _0x3005fc(0x10c), 'Authorization': _0x3005fc(0x11b) + _0x4c2f84 } })['then'](_0x20cceb => _0x20cceb[_0x3005fc(0x15c)]())[_0x3005fc(0x141)](_0x492bd7 => { const _0x5e3971 = _0x3005fc; document[_0x5e3971(0x11f)](_0x5e3971(0x126))['value'] = _0x492bd7[_0x5e3971(0x111)], document[_0x5e3971(0x11f)](_0x5e3971(0x13a))[_0x5e3971(0x103)] = _0x492bd7[_0x5e3971(0x10f)], document['getElementById'](_0x5e3971(0x12b))['value'] = _0x492bd7[_0x5e3971(0x12e)], document[_0x5e3971(0x11f)](_0x5e3971(0x114))['onclick'] = () => { const _0x5d81df = _0x5e3971; _0x15191e(_0x492bd7[_0x5d81df(0x124)]); }; })['catch'](_0x2a00c3 => console['error'](_0x3005fc(0x117), _0x2a00c3)); }; }); const _0x15191e = async _0x38e4f1 => { const _0x3c7df8 = _0x47e972, _0x1328aa = RUTA_API + '/tarea?id=' + _0x38e4f1, _0x5eb383 = document[_0x3c7df8(0x11f)]('nombreTareaExistente')[_0x3c7df8(0x103)], _0x1fdd89 = document[_0x3c7df8(0x11f)](_0x3c7df8(0x13a))[_0x3c7df8(0x103)], _0x3bea1b = getCookie('token'), _0x45cc03 = { 'nombre_tarea': _0x5eb383, 'descripcion_tarea': _0x1fdd89 }; await fetch(_0x1328aa, { 'method': _0x3c7df8(0x118), 'headers': { 'Content-Type': _0x3c7df8(0x10c), 'Authorization': _0x3c7df8(0x11b) + _0x3bea1b }, 'body': JSON[_0x3c7df8(0x143)](_0x45cc03) })[_0x3c7df8(0x141)](_0x4c20f6 => _0x4c20f6[_0x3c7df8(0x15c)]())['then'](_0x446d27 => { const _0x30f753 = _0x3c7df8; if (_0x446d27[_0x30f753(0x142)]) { toastr[_0x30f753(0x142)](_0x446d27['error'], _0x30f753(0x115)); return; } toastr[_0x30f753(0x14b)](_0x30f753(0x120), 'Éxito'), setTimeout(() => { const _0x569a7c = _0x30f753; location[_0x569a7c(0x12f)](); }, 0x3e8); })[_0x3c7df8(0x11e)](_0xe22d46 => console[_0x3c7df8(0x142)]('Error:', _0xe22d46)); }; };